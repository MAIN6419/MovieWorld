# ğŸ¬ MovieWorld
#### í…ŒìŠ¤íŠ¸ ê³„ì •
| ID         | PW     |
|------------|--------|
| test@a.com | asdzxc123! |

#### ë°°í¬ URL :  ğŸ [MovieWorld](https://movieworlds.site)

## ğŸ™‹â€â™‚ï¸ í”„ë¡œì íŠ¸ ì†Œê°œ
![thumbnail](https://github.com/MAIN6419/MovieWorld/assets/113427991/bbd6d268-71d5-4be6-9d89-dc4f5af989b9)

- **MovieWorld**ëŠ” ë‹¤ì–‘í•œ ì˜í™” ì •ë³´ë¥¼ ì œê³µí•˜ê³  ë¦¬ë·°í•  ìˆ˜ ìˆëŠ” ì‚¬ì´íŠ¸ ì…ë‹ˆë‹¤.
- ë¡œê·¸ì¸ ì—†ì´ ë‹¤ì–‘í•œ ì˜í™” ì •ë³´ë¥¼ ë¬´ë£Œë¡œ ì œê³µë°›ì•„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì˜í™” ë¦¬ë·°ë¥¼ í†µí•´ ì˜í™” ì •ë³´ë¥¼ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì˜í™” ë¦¬ë·° ìŠ¤í¬ì¼ëŸ¬ ë°©ì§€ ê¸°ëŠ¥ì´ ìˆì–´ ì˜í™” ë¦¬ë·°ë¥¼ í•„í„°ë§í•˜ì—¬ ì›ì¹˜ì•Šì€ ìŠ¤í¬ì¼ëŸ¬ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì›í•˜ëŠ” ì˜í™”ë¥¼ ì°œí•˜ê³ , ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br>

### ğŸ“† ê°œë°œê¸°ê°„
**2023. 07.05 ~ 2023. 08.07**

<br>

### âš™ ê°œë°œí™˜ê²½
|í”„ë¡ íŠ¸ì—”ë“œ|ë²¡ì—”ë“œ|ë””ìì¸|ë°°í¬, ê´€ë¦¬|
|---|---|---|---|
|<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black"> <img src="https://img.shields.io/badge/styled-components-DB7093?style=for-the-badge&logo=styledcomponents&logoColor=pink">|<img src ="https://img.shields.io/badge/theMovieDB-01B4E4.svg?&style=for-the-badge&logo=themoviedatabase&logoColor=black"/> <img src ="https://img.shields.io/badge/firebase-FFCA28.svg?&style=for-the-badge&logo=firebase&logoColor=black"/>|<img src="https://img.shields.io/badge/figma-F24E1E?style=for-the-badge&logo=figma&logoColor=white">|<img src="https://img.shields.io/badge/netlify-00C7B7?style=for-the-badge&logo=netlify&logoColor=white"> <img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">|
<br>

### ğŸ”© ë²¡ì—”ë“œ êµ¬ì„±
- TheMovieDBAPIë¥¼ í†µí•´ ì˜í™”ì •ë³´ë¥¼ ë°›ì•„ì˜¤ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
- êµ¬í˜„ ê¸°ëŠ¥ë“¤(ë¡œê·¸ì¸, ì†Œì…œë¡œê·¸ì¸, íšŒì›ê°€ì…, ì´ë©”ì¼|ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°, ê²€ìƒ‰, ì°œ, ë¦¬ë·° ê´€ë ¨ ê¸°ëŠ¥, í”„ë¡œí•„ ë³€ê²½, ë¹„ë°€ë²ˆí˜¸ ë³€ê²½, ë‚˜ì˜ ì°œ ëª©ë¡, ë‚˜ì˜ ë¦¬ë·° ëª©ë¡, ë¡œê·¸ì•„ì›ƒ)ì€ firebaseë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„ í•˜ì˜€ìŠµë‹ˆë‹¤.
<br>

### â›“ nodemoduls
|ëª¨ë“ˆëª…|ìš©ë„|
|---|---|
|axios|ì„œë²„ í†µì‹ |
|browser-image-compression|ì´ë¯¸ì§€ ì••ì¶•|
|history|ëª¨ë°”ì¼ ë’¤ë¡œê°€ê¸° êµ¬í˜„|
|lodash|debouncing, throttling êµ¬í˜„|
|react-rotuer-dom|ë¼ìš°íŒ… êµ¬í˜„|
|react-intersetion-observer|ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„|
|react-responsive|ë°˜ì‘í˜• êµ¬í˜„|
|react-device-detect|ë°˜ì‘í˜• êµ¬í˜„|
|uuid|ê³ ìœ  ì•„ì´ë”” ìƒì„±|
|swiper|ìŠ¬ë¼ì´ë” êµ¬í˜„|
|sweetAlert|alert, confirm ì»¤ìŠ¤í…€|
<br>

### ğŸ›  í”„ë¡œì íŠ¸ ê´€ë¦¬
- <a href="https://github.com/MAIN6419/MovieWorld/issues">GitHub Issue</a>
  - ë¹ ë¥¸ issue ìƒì„±ì„ ìœ„í•´ issue í…œí”Œë¦¿ì„ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
  - issue labelì„ ìƒì„±í•˜ì—¬ ì–´ë–¤ ì‘ì—…ì„ íˆëŠ”ì§€ êµ¬ë¶„í•˜ì˜€ìŠµë‹ˆë‹¤.
  - issueë¥¼ í†µí•´ êµ¬í˜„í•  ë‚´ìš©ê³¼ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ ì–´ë–¤ ì‘ì—…ì„ í• ì§€ ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ì–´ ê´€ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.
  
![issue](https://github.com/MAIN6419/MovieWorld/assets/113427991/a6eac61d-9a1a-4472-8169-a81c4084c6dd)

- <a href="https://github.com/users/MAIN6419/projects/3/views/1?layout=board">GitHub Project</a>
  - í”„ë¡œì íŠ¸ ë³´ë“œì˜ ì´ìŠˆ ëª©ë¡ì„ í†µí•´ ê°œë°œ ê³¼ì •ê³¼ ì§„í–‰ ìƒí™©ì„ í•œ ëˆˆì— ì•Œì•„ ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
  
![project](https://github.com/MAIN6419/MovieWorld/assets/113427991/9f346e43-c02f-4b1a-b2b0-38bbb6e93a63)

### ğŸ“ƒ GitHub ì»¨ë²¤ì…˜
ì–´ë–¤ ì‘ì—…ì„ í–ˆëŠ”ì§€ íŒŒì•…í•˜ê¸° ìœ„í•´ ì»¨ë²¤ì…˜ì„ ì •í•˜ì—¬ commitê³¼ isuueë¥¼ ê´€ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.

`Fix` : ìˆ˜ì •ì‚¬í•­ë§Œ ìˆì„ ê²½ìš°

`Feat` : ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ì¶”ê°€ ë˜ê±°ë‚˜ ì—¬ëŸ¬ ë³€ê²½ ì‚¬í•­ë“¤ì´ ìˆì„ ê²½ìš°

`Style` : ìŠ¤íƒ€ì¼ë§Œ ë³€ê²½ë˜ì—ˆì„ ê²½ìš° 

`Docs` : ë¬¸ì„œë¥¼ ìˆ˜ì •í•œ ê²½ìš°

`Refactor` : ì½”ë“œ ë¦¬íŒ©í† ë§ì„ í•˜ëŠ” ê²½ìš°

`Remove` : íŒŒì¼ì„ ì‚­ì œí•˜ëŠ” ì‘ì—…ë§Œ ìˆ˜í–‰í•œ ê²½ìš°

`Rename` : íŒŒì¼ í˜¹ì€ í´ë”ëª…ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ì˜®ê¸°ëŠ” ì‘ì—…ë§Œì¸ ê²½ìš°

`Relese` : ë°°í¬ ê´€ë ¨ ì‘ì—…ì¸ ê²½ìš°

`Chore` : ê·¸ ì™¸ ê¸°íƒ€ ì‚¬í•­ì´ ìˆì„ ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤.

<br>

### ğŸ“ êµ¬í˜„ ê¸°ëŠ¥ ë¯¸ë¦¬ë³´ê¸°
|ì‹œì‘ í™”ë©´|ë¡œê·¸ì¸|ì†Œì…œ ë¡œê·¸ì¸|
|---|---|---|
|![splash](https://github.com/MAIN6419/MovieWorld/assets/113427991/f76eb405-15c2-492b-a4a1-18026542ada0)|![ë¡œê·¸ì¸](https://github.com/MAIN6419/MovieWorld/assets/113427991/29100817-5dfb-4c80-8864-b9c5fc205d94)|![ì†Œì…œë¡œê·¸ì¸](https://github.com/MAIN6419/MovieWorld/assets/113427991/49532fab-92ff-4a90-b888-eecabec9328c)|

|ë©”ì¸ í˜ì´ì§€|ì˜í™”ì •ë³´-ë¦¬ë·°(ì‘ì„±, ìˆ˜ì •, ì‚­ì œ, ì‹ ê³ )|ì˜í™”ì •ë³´-ì°œ, ê´€ë ¨ì˜ìƒ|
|:---:|:---:|:---:|
|![ë©”ì¸í˜ì´ì§€](https://github.com/MAIN6419/MovieWorld/assets/113427991/f0a290a2-2747-466a-bc88-aad4bab06e7d)|![ì˜í™”ì •ë³´-ë¦¬ë·°(ì‘ì„±,ìˆ˜ì •,ì‚­ì œ,ì‹ ê³ )](https://github.com/MAIN6419/MovieWorld/assets/113427991/d34bff8b-264e-45bc-a5b7-61ad4ff302b5)|![ì˜í™”ì •ë³´-ì°œ,ê´€ë ¨ì˜ìƒ](https://github.com/MAIN6419/MovieWorld/assets/113427991/85e8329e-d2b9-4035-8ab2-ad811129888d)|


|ì˜í™”ì •ë³´-ìŠ¤í¬ì¼ëŸ¬, í•„í„°|ë§ˆì´í˜ì´ì§€-ì°œ ëª©ë¡|ë§ˆì´í˜ì´ì§€-ë¦¬ë·° ëª©ë¡|
|---|---|---|
|![ì˜í™”ì •ë³´-ìŠ¤í¬ì¼ëŸ¬,í•„í„°](https://github.com/MAIN6419/MovieWorld/assets/113427991/92a112c9-e7f9-49c5-a694-f37279f6c18f)|![ê²€ìƒ‰í˜ì´ì§€](https://github.com/MAIN6419/MovieWorld/assets/113427991/53cfc978-b692-4423-b519-596fb2d24154)|![ë§ˆì´í˜ì´ì§€-ì°œ](https://github.com/MAIN6419/MovieWorld/assets/113427991/6618aaa4-33eb-490f-aad3-4ff61804cfdf)|


|ë§ˆì´í˜ì´ì§€-ì°œ|ë§ˆì´í˜ì´ì§€-í”„ë¡œí•„ë³€ê²½|ë§ˆì´í˜ì´ì§€-ë¹„ë°€ë²ˆí˜¸ë³€ê²½|
|---|---|---|
![ë§ˆì´í˜ì´ì§€-ë¦¬ë·°](https://github.com/MAIN6419/MovieWorld/assets/113427991/219bf865-cb1c-47da-bc38-25cfe2e92ddc)|![ë§ˆì´í˜ì´ì§€-í”„ë¡œí•„ë³€ê²½](https://github.com/MAIN6419/MovieWorld/assets/113427991/2b7ce702-b9d8-4553-a9f3-bbeb3bf5daed)|![ë§ˆì´í˜ì´ì§€-ë¹„ë°€ë²ˆí˜¸ë³€ê²½](https://github.com/MAIN6419/MovieWorld/assets/113427991/60e8e763-fd62-4b92-93f1-02244aeca31e)|

|ë¡œê·¸ì•„ì›ƒ|404 í˜ì´ì§€|
|---|---
|![ë¡œê·¸ì•„ì›ƒ](https://github.com/MAIN6419/MovieWorld/assets/113427991/b68cd800-f3dc-4515-8be1-a2cd917393ff)|![404](https://github.com/MAIN6419/MovieWorld/assets/113427991/b433b410-d52b-42ed-8f0a-442bed365709)|

<br>

### ğŸ” ì£¼ìš” ê¸°ëŠ¥ ì½”ë“œ ë° ì„¤ëª…
#### (1) customAxios
axiosë¥¼ customí•˜ì—¬ baseURLë¥¼ ì„¤ì •í•´ì„œ baseURL ì¤‘ë³µ ì‚¬ìš©ì„ í”¼í•˜ê³ , ì½”ë“œë¥¼ ë‹¨ì¶•ì‹œì¼°ìŠµë‹ˆë‹¤.
``` javascript
import axios from "axios";

export const customAxios = axios.create({
  baseURL: process.env.REACT_APP_BASE_URL,
});
```
<br>
 
#### (2) API íŒŒì¼
ì‚¬ìš©í•  APIë¥¼ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ ë§Œë“¤ì–´ì„œ ì½”ë“œ ì¤‘ë³µ ì‚¬ìš©ì„ í”¼í•˜ê³ , ì½”ë“œë¥¼ ë‹¨ì¶• ì‹œì¼œ, ìœ ì§€ë³´ìˆ˜ë¥¼ ìš©ì´í•˜ê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤.

``` javascript
import { sweetToast } from "../sweetAlert/sweetAlert";
import { customAxios } from "./customAxios";

// api_key, language paramsë¡œ ì„¤ì •
const api_key = process.env.REACT_APP_THEMOVIEDB_API_KEY;
const language = "ko-KR";

// ì˜í™” ë¹„ë””ì˜¤ ì •ë³´ê°€ í¬í•¨ëœ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” API
export const fetchVideo = async (id, mediaType) => {
  try {
    const video = await customAxios.get(
      `${mediaType === "tv" ? "tv" : "movie"}/${id}`,
      {
        params: {
          api_key,
          language,
          append_to_response: "videos",
        },
      }
    );
    return video.data;
  } catch (error) {
    console.error(error.response.data.status_message);
    sweetToast(
      "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì ì‹œí›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
      "warning"
    );
    throw error;
  }
};

// Banner í™”ë©´ì— ë‚˜íƒ€ë‚  ì˜í™” ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” API
export const fetchNowPlaying = async () => {
  try {
    const res = await customAxios.get(`movie/now_playing`, {
      params: {
        api_key,
        language,
      },
    });
    const movieId =
      res.data.results[Math.floor(Math.random() * res.data.results.length)].id;
    return fetchVideo(movieId);
  } catch (error) {
    console.error(error.response.data.status_message);
    sweetToast(
      "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì ì‹œí›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
      "warning"
    );
    throw error;
  }
};

// ìµœì‹ ì˜ ì˜í™” ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” API
export const fetchTrending = async (page = 1) => {
  try {
    const res = await customAxios.get(`/trending/all/week`, {
      params: {
        api_key,
        language,
        page,
      },
    });
    return res.data.results;
  } catch (error) {
    console.error(error.response.data.status_message);
    sweetToast(
      "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì ì‹œí›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
      "warning"
    );
    throw error;
  }
};

// ì˜í™” ìˆœìœ„ê°€ ë†’ì€ ìˆœì„œëŒ€ë¡œ ì˜í™” ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” API
export const fetchTopRated = async (page = 1) => {
  try {
    const res = await customAxios.get("/movie/top_rated", {
      params: {
        api_key,
        language,
        page,
      },
    });
    return res.data.results;
  } catch (error) {
    console.error(error.response.data.status_message);
    sweetToast(
      "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì ì‹œí›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
      "warning"
    );
    throw error;
  }
};

// Action ì˜í™” ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” API
export const fetchActionMovies = async (page = 1) => {
  try {
    const res = await customAxios.get("/discover/movie?with_genres=28", {
      params: {
        api_key,
        language,
        page,
      },
    });
    return res.data.results;
  } catch (error) {
    console.error(error.response.data.status_message);
    sweetToast(
      "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì ì‹œí›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
      "warning"
    );
    throw error;
  }
};

// Comedy ì˜í™” ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” API
export const fetchComedyMovies = async (page = 1) => {
  try {
    const res = await customAxios.get("/discover/movie?with_genres=35", {
      params: {
        api_key,
        language,
        page,
      },
    });
    return res.data.results;
  } catch (error) {
    console.error(error.response.data.status_message);
    sweetToast(
      "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì ì‹œí›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
      "warning"
    );
    throw error;
  }
};

// Horror ì˜í™” ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” API
export const fetchHorrorMovies = async (page = 1) => {
  try {
    const res = await customAxios.get("/discover/movie?with_genres=27", {
      params: {
        api_key,
        language,
        page,
      },
    });
    return res.data.results;
  } catch (error) {
    console.error(error.response.data.status_message);
    sweetToast(
      "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì ì‹œí›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
      "warning"
    );
    throw error;
  }
};

// Romance ì˜í™” ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” API
export const fetchRomanceMovies = async (page = 1) => {
  try {
    const res = await customAxios.get("/discover/movie?with_genres=10749", {
      params: {
        api_key,
        language,
        page,
      },
    });
    return res.data.results;
  } catch (error) {
    console.error(error.response.data.status_message);
    sweetToast(
      "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì ì‹œí›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
      "warning"
    );
    throw error;
  }
};

// Document ì˜í™” ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” API
export const fetchDocumentMovies = async (page = 1) => {
  try {
    const res = await customAxios.get("/discover/movie?with_genres=99", {
      params: {
        api_key,
        language,
        page,
      },
    });
    return res.data.results;
  } catch (error) {
    console.error(error.response.data.status_message);
    sweetToast(
      "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì ì‹œí›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
      "warning"
    );
    throw error;
  }
};

// ê²€ìƒ‰í•œ ì˜í™” ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” API
export const fetchSearchMovie = async (keyword, page) => {
  try {
    const res = await customAxios.get(
      `/search/multi?include_adult=false&query=${keyword}`,
      {
        params: {
          api_key,
          language,
          page,
        },
      }
    );
    return res.data.results;
  } catch (error) {
    console.error(error.response.data.status_message);
    sweetToast(
      "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì ì‹œí›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
      "warning"
    );
    throw error;
  }
};
```

<br>
 
#### (3) ë¦¬ë·°-ì‘ì„±, ìˆ˜ì •, ì‚­ì œ, ì‹ ê³ 
ë¦¬ë·°ì— ê´€ë ¨ëœ ê¸°ëŠ¥ì€ firebase firestoreë¥¼ í†µí•´ dbë¥¼ ì„¤ê³„í•˜ê³  ì§ì ‘ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

- #### ë¦¬ë·°ëª©ë¡ì˜ dbêµ¬ì¡°
  - reviewList ì»¬ë ‰ì…˜ ì•„ë˜ docs idë¡œëŠ” movieIdë¥¼ ë‘ì–´ ê° ì˜í™” ë°ì´í„°ë¥¼ êµ¬ë¶„í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.
  - movieId Docs ì•„ë˜ë¡œ ì˜í™”ì— ë¦¬ë·° ë°ì´í„°ë“¤ì´ ë“¤ì–´ê°€ëŠ” review subColletionì´ ì¡´ì¬í•©ë‹ˆë‹¤.
  - MovieInfo ëª¨ë‹¬ ì°½ì˜ ë¦¬ë·°ëª©ë¡ì„ ë¬´í•œìŠ¤í¬ë¡¤ í˜ì´ì§• ê¸°ëŠ¥ìœ¼ë¡œ ë°›ì•„ì˜¤ê¸° ìœ„í•´ subCollectionìœ¼ë¡œ ë°ì´í„°ë¥¼ ì„¤ê³„í•˜ì˜€ìŠµë‹ˆë‹¤.
  - subColletion ì•„ë˜ docs idë¡œ commentIdë¥¼ ì£¼ì–´ reivew ë°ì´í„°ë¥¼ êµ¬ë¶„í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.
  - docs ì•„ë˜ë¡œëŠ” ë¦¬ë·° ì •ë³´ê°€ ì €ì¥ë˜ëŠ” fieldê°€ ì¡´ì¬í•©ë‹ˆë‹¤.

&nbsp;&nbsp; ![reviewList_dbêµ¬ì¡°](https://github.com/MAIN6419/MovieWorld/assets/113427991/eb156848-078e-437a-a613-c5d2aa9c6104)

- #### ìœ ì €ì˜ dbêµ¬ì¡°
  - user ì»¬ë ‰ì…˜ ì•„ë˜ docs idë¡œ ê° ê³„ì •ì˜ uidë¥¼ ì£¼ì–´ user ë°ì´í„°ë¥¼ êµ¬ë¶„í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.
  - docs ì•„ë˜ë¡œëŠ” userë°ì´í„°ê°€ ë“¤ì–´ê°€ëŠ” fieldì™€ ë¦¬ë·° ëª©ë¡ì˜ ì˜í™” ì •ë³´ê°€ ë“¤ì–´ê°€ëŠ” reviewListMovieInfo subCollectionì´ ì¡´ì¬í•©ë‹ˆë‹¤.
  - ë§ˆì´í˜ì´ì§€ì—ì„œ ë¦¬ë·°ëª©ë¡ì—ì„œ ì˜í™”ë°ì´í„°ë¥¼ ë¬´í•œìŠ¤í¬ë¡¤ í˜ì´ì§• ê¸°ëŠ¥ìœ¼ë¡œ ë°›ì•„ì˜¤ê¸° ìœ„í•´ subColletionìœ¼ë¡œ ë°ì´í„°ë¥¼ ì„¤ê³„í•˜ì˜€ìŠµë‹ˆë‹¤.
  - subColletion ì•„ë˜ docs idë¡œ commentIdë¥¼ ì£¼ì–´ reivew ì˜í™” ë°ì´í„°ë¥¼ êµ¬ë¶„í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.
  - docs ì•„ë˜ë¡œëŠ” ì˜í™” ì •ë³´ê°€ ì €ì¥ë˜ëŠ” fieldê°€ ì¡´ì¬í•©ë‹ˆë‹¤.
  

&nbsp;&nbsp; ![user_dbêµ¬ì¡°](https://github.com/MAIN6419/MovieWorld/assets/113427991/7a7ff4ce-3023-4180-920f-481d9f65b617)
- #### ë¦¬ë·°ì‘ì„± APIì˜ ì„¸ ê°€ì§€ ì²˜ë¦¬
  - reviewList docs ì¤‘ í•´ë‹¹ ì˜í™”ì— subColletion ì•„ë˜ docsì— ë¦¬ë·° ë°ì´í„°ë¥¼ ìƒì„± 
  - ë§ˆì´í˜ì´ì§€ì˜ ë¦¬ë·°ëª©ë¡ì—ì„œ í•´ë‹¹ ì˜í™” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•´ ë¦¬ë·°í•œ user ë¬¸ì„œì˜ ì•„ë˜ subCollectionì¸ reviewListMovieInfo ì•„ë˜ docsì— ë¦¬ë·°í•œ ì˜í™”ì˜ ì •ë³´ë¥¼ ì €ì¥ 
  - í•´ë‹¹ ìœ ì €ê°€ ë¦¬ë·°í•œ ì˜í™”ì¸ì§€ ì•ˆí•œ ì˜í™” ì¸ì§€ë¥¼ íŒŒì•…í•˜ê¸° ìœ„í•´ ìœ ì € dbì— reviewListì— ë¦¬ë·°í•œ movieIDë¥¼ ì¶”ê°€
  
=> ìœ„ ì„¸ ê°€ì§€ ì‘ì—…ë“¤ì€ ìˆœì„œê°€ ìƒê´€ì—†ê¸° ë•Œë¬¸ì— ë¹ ë¥¸ ì²˜ë¦¬ë¥¼ ìœ„í•´ `promise.all`ë¥¼ ì´ìš©í•˜ì—¬ ë¹„ë™ê¸° ì‘ì—…ë“¤ì„ ë³‘ë ¬ì²˜ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.

```javascript
// ë¦¬ë·° ì‘ì„± API
export const addReview = async (movieData, reviewData) => {
  try {
    // reviewList í•´ë‹¹ ì˜í™”ì— ë¦¬ë·° ë°ì´í„° ì¶”ê°€
    const reviewListRef = collection(db, "reviewList");
    const reviewDoc = doc(reviewListRef, String(movieData.id));
    const reviewRef = collection(reviewDoc, "review");

    const addReviewPromise = setDoc(doc(reviewRef, reviewData.id), {
      id: reviewData.id,
      uid: reviewData.uid,
      rating: reviewData.rating,
      contents: reviewData.contents,
      createdAt: reviewData.createdAt,
      spoiler: reviewData.spoiler,
      isBlock: false,
      reportCount: 0,
    });

    // ìœ ì € db subCollectionì— reviewí•œ ì˜í™” ì •ë³´ ì €ì¥
    const UserReviewListRef = collection(db, "userReviewList");
    const UserReviewListDoc = doc(UserReviewListRef, auth.currentUser.uid);
    const UserReviewRef = collection(UserReviewListDoc, "reviewMovie");

    const addUserReviewListPromise = setDoc(
      doc(UserReviewRef, reviewData.id),
      movieData
    );

    // ìœ ì € db reviewListì— ë¦¬ë·°í•œ movieId ì¶”ê°€
    const userRef = doc(db, `user/${auth.currentUser.uid}`);
    const addUserReivewPromise = updateDoc(userRef, {
      reviewList: arrayUnion(movieData.id),
    });

    // ìˆœì„œì— ìƒê´€ì—†ëŠ” ì‘ì—… ë³‘ë ¬ì²˜ë¦¬
    await Promise.all([
      addReviewPromise,
      addUserReviewListPromise,
      addUserReivewPromise,
    ]);
  } catch (error) {
    sweetToast(
      "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì ì‹œí›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
      "warning"
    );
    throw error;
  }
};
````

- #### ë¦¬ë·°ì‚­ì œ
   - ë¦¬ë·°ì‚­ì œ API ë˜í•œ ë¦¬ë·° ì‘ì„±ì˜ ìœ„ ì„¸ ê°€ì§€ ì‘ì—…ê³¼ ê°™ì€ ì‘ì—…ì„ í†µí•´ ë¦¬ë·°ë¥¼ ì‚­ì œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

```javascript
// ë¦¬ë·° ì‚­ì œ API
export const removeReview = async (movieId, reviewId) => {
  try {
     // reviewList í•´ë‹¹ ì˜í™”ì— ë¦¬ë·° ë°ì´í„° ì‚­ì œ
    const reviewListRef = collection(db, "reviewList");
    const reviewDoc = doc(reviewListRef, String(movieId));
    const reviewRef = collection(reviewDoc, "review");
    const deleteReviewRef = doc(reviewRef, reviewId);
    const deleteReviewPromise = deleteDoc(deleteReviewRef);

    const UserRef = collection(db, "user");
    const UserReviewListMovieInfoDoc = doc(UserRef, auth.currentUser.uid);
    const UserReviewMovieInfoRef = collection(
      UserReviewListMovieInfoDoc,
      "reviewListMovieInfo"
    );

    // ìœ ì € db subCollectionì— reviewí•œ ì˜í™” ì •ë³´ ì‚­ì œ
    const deleteUserReviewListRef = doc(UserReviewMovieInfoRef, reviewId);
    const deleteUserReviewListPromise = deleteDoc(deleteUserReviewListRef);

    // ìœ ì € db reviewListì— ë¦¬ë·°í•œ movieId ì‚­ì œ
    const userRef = doc(db, `user/${auth.currentUser.uid}`);
    const deleteUserReviewPromise = updateDoc(userRef, {
      reviewList: arrayRemove(movieId),
    });

    // ìˆœì„œì— ìƒê´€ì—†ëŠ” ì‘ì—… ë³‘ë ¬ì²˜ë¦¬
    await Promise.all([
      deleteReviewPromise,
      deleteUserReviewListPromise,
      deleteUserReviewPromise,
    ]);
  } catch (error) {
    sweetToast(
      "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì ì‹œí›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
      "warning"
    );
    throw error;
  }
};
```
- #### ë¦¬ë·° ìˆ˜ì •
   - reviewList í•˜ìœ„ì˜ í•´ë‹¹ë˜ëŠ” subColletionì˜ docs fieldì˜ rating, contents, spoiler ê°’ì„ ìˆ˜ì •

```javascript
// ë¦¬ë·° ìˆ˜ì • API
export const editReview = async (movieId, editData) => {
  try {
    const reviewListRef = collection(db, "reviewList");
    const reviewDoc = doc(reviewListRef, String(movieId));
    const reviewRef = collection(reviewDoc, "review");
    const updateReviewRef = doc(reviewRef, editData.id);

    await updateDoc(updateReviewRef, {
      rating: editData.rating,
      contents: editData.contents,
      spoiler: editData.spoiler,
    });
  } catch (error) {
    sweetToast(
      "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì ì‹œí›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
      "warning"
    );
    throw error;
  }
};
```

- #### ë¦¬ë·° ì‹ ê³ 
   - reviewList í•˜ìœ„ì˜ í•´ë‹¹ë˜ëŠ” subColletionì˜ docs fieldì˜ reportCount ê°’ì„ 1ì”© ì¦ê°€ ì‹œí‚µë‹ˆë‹¤.
   - ë§Œì•½ reportCountê°€ 5 ì´ìƒì¸ ê²½ìš° isBlockë¥¼ trueì£¼ì–´ ë” ì´ìƒ ë¦¬ë·°ëª©ë¡ì— ì¶œë ¥ë˜ì§€ ì•Šë„ë¡ block ì²˜ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.

```javascript
// ë¦¬ë·° ì‹ ê³  API
export const reviewReport = async (movieId, reviewData) => {
  try {
    // reviewList ì»¬ë ‰ì…˜ì˜ í•´ë‹¹ docsId(movieId)ì˜ subCollectionì˜ docsId(reviewId) í•´ë‹¹ë˜ëŠ” ë°ì´í„°
    const reviewListRef = collection(db, "reviewList");
    const reviewDoc = doc(reviewListRef, String(movieId));
    const reviewRef = collection(reviewDoc, "review");
    const updateReviewRef = doc(reviewRef, reviewData.id);

    // ë¦¬ë·° ë°ì´í„°ì˜ ì‹ ê³ ìˆ˜ë¥¼ 1 ë”í•´ì¤Œ
    // ë§Œì•½ ë¦¬ë·° ë°ì´í„°ì˜ ì‹ ê³ ìˆ˜ê°€ 5 ì´ìƒì´ ëœë‹¤ë©´(í˜„ì¬ 4 => í´ë¦­ì‹œ 5ì´ë¯€ë¡œ >=4 ì¡°ê±´ì‹ ì‚¬ìš©) í•´ë‹¹ ë¦¬ë·° block ì²˜ë¦¬
    const reportReviewPromise = updateDoc(updateReviewRef, {
      isBlock: reviewData.reportCount >= 4 ? true : false,
      reportCount: increment(1),
    });

    // ìœ ì €ê°€ ì‹ ê³ í•œ ë¦¬ë·°ì¸ì§€ ì•„ë‹Œì§€ íŒë‹¨í•˜ê¸° ìœ„í•´ reportListì— í•´ë‹¹ reviewIDë¥¼ ì¶”ê°€
    const userRef = doc(db, `user/${auth.currentUser.uid}`);
    const addReportListPromise = updateDoc(userRef, {
      reportList: arrayUnion(reviewData.id),
    });
    await Promise.all[(reportReviewPromise, addReportListPromise)];
  } catch (error) {
    sweetToast(
      "ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì ì‹œí›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.",
      "warning"
    );
    throw error;
  }
};
```

<br>
 
#### (4) ë¦¬ë·° ìŠ¤í¬ì¼ëŸ¬ ì²´í¬ ê¸°ëŠ¥
 - ë¦¬ë·° ì‘ì„±ì‹œ ìŠ¤í¬ì¼ëŸ¬ê°€ í¬í•¨ëœ ê¸€ì„ ì‘ì„±í•˜ê³  ì‹¶ì€ ìœ ì €ê°€ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ìŠ¤í¬ì¼ëŸ¬ê°€ í¬í•¨ëœ ë¦¬ë·°ë¥¼ ì‘ì„±ì‹œì— ìŠ¤í¬ì¼ëŸ¬ê°€ í¬í•¨ë˜ëŠ” ê¸€ì´ ìˆë‹¤ëŠ” ì²´í¬ ê¸°ëŠ¥ì„ ë§Œë“¤ì–´
ë‹¤ë¥¸ ìœ ì €ê°€ ë¦¬ë·°ë¥¼ ë³¼ ë•Œ ë¸”ë¼ì¸ë“œ ì²˜ë¦¬ ë˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

&nbsp;&nbsp; ![ìŠ¤í¬ì¼ëŸ¬ ì‘ì„±](https://github.com/MAIN6419/MovieWorld/assets/113427991/da38090e-e1b8-4524-9538-3e3288304337)

 - spoilerë¼ëŠ” ê°’ì„ í†µí•´ í•´ë‹¹ ë¦¬ë·°ê°€ spoilerê°€ í¬í•¨ëœ ë¦¬ë·°ì¸ì§€ ì•„ë‹Œì§€ë¥¼ êµ¬ë¶„í•©ë‹ˆë‹¤.
 - spoilerê°€ true ê°’ì´ë©´ ê¸°ì¡´ contents ëŒ€ì‹  'ìŠ¤í¬ì¼ëŸ¬ê°€ í¬í•¨ëœ ë¦¬ë·°ì…ë‹ˆë‹¤.'ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
 - ì˜†ì— ì œê³µëœ ë³´ê¸° ë²„íŠ¼ì„ ëˆ„ë¥¼ ì‹œ í•´ë‹¹ contentsê°€ ì¶œë ¥ë˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

&nbsp;&nbsp; ![ìŠ¤í¬ì¼ëŸ¬ ë³´ê¸°](https://github.com/MAIN6419/MovieWorld/assets/113427991/fb84eec1-75cc-432a-b84b-697dfef7e908)

ì•„ë˜ ì½”ë“œì—ì„œëŠ” reviewItem.spoilerë¥¼ í†µí•´ ìŠ¤í¬ì¼ëŸ¬ê°€ í¬í•¨ëœ ë¦¬ë·°ì¸ì§€ ì•„ë‹Œì§€ë¥¼ êµ¬ë¶„í•˜ì˜€ìŠµë‹ˆë‹¤.

showSpoiler ìƒíƒœë¥¼ í†µí•´ ìŠ¤í¬ì¼ëŸ¬ ë¦¬ë·°ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.

=> showSpoiler true ì¼ì‹œ 'ìŠ¤í¬ì¼ëŸ¬ê°€ í¬í•¨ëœ ë¦¬ë·°ì…ë‹ˆë‹¤'ê°€ ì¶œë ¥ë©ë‹ˆë‹¤. 

=>  showSpoiler false ì¼ì‹œ ì›ë˜ ë¦¬ë·° ë°ì´í„°ì˜ contents ê°’ìœ¼ë¡œ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.

```javascript
 //                                 .
 //                                 .
 //                                 .
 //                               (ìƒëµ)

 <ReviewContents inactive={isBlock||(reviewItem.spoiler && !showSpoilerData)}>
            {reviewItem.isBlock
              ? "ì‹ ê³ ì— ì˜í•´ ë¸”ë¼ì¸ë“œ ì²˜ë¦¬ëœ ë¦¬ë·°ì…ë‹ˆë‹¤."
              : reviewItem.spoiler
              ? showSpoilerData
                ? reviewItem.contents
                : "ìŠ¤í¬ì¼ëŸ¬ê°€ í¬í•¨ëœ ë¦¬ë·°ì…ë‹ˆë‹¤."
              : reviewItem.contents}
            {reviewItem.spoiler && !showSpoilerData && (
              <ShowSpoilerBtn
                onClick={() => {
                  sweetConfirm(
                    "ìŠ¤í¬ì¼ëŸ¬ê°€ í¬í•¨ëœ ë¦¬ë·°ì…ë‹ˆë‹¤.\nì •ë§ í™•ì¸ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                    "í™•ì¸",
                    "ì·¨ì†Œ",
                    () => setShowSpoilerData(true)
                  );
                }}
              >
                ë³´ê¸°
              </ShowSpoilerBtn>
            )}
</ReviewContents>

//                                (ìƒëµ)
//                                  .
//                                  .
//                                  .
```
 
<br>
 
#### (5) ë¬´í•œ ìŠ¤í¬ë¡¤
- ë¬´í•œìŠ¤í¬ë¡¤ì„ ì´ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì¼ë¶€ë§Œ ê°€ì ¸ì™€ ì„œë²„ì˜ ë¶€ë‹´ì„ ì¤„ì´ê³  ë¡œë”©ì†ë„ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
- **react-intersection-observer** ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ ë¬´í•œìŠ¤í¬ë¡¤ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- **react-intersection-observer** ë¼ì´ë¸ŒëŸ¬ì´ì˜ `useView()`ì˜ **ref**ê°’ì„ ê´€ì°°ìš”ì†Œ **ref**ê°’ì— ë„£ìœ¼ë©´ ê´€ì°°ìš”ì†Œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë§Œì•½ ê´€ì°°ìš”ì†Œê°€ í™”ë©´ ì¶œë ¥ë˜ë©´ **inView** trueë¡œ í™”ë©´ì—ì„œ ì‚¬ë¼ì§„ë‹¤ë©´ falseë¡œ ë³€ê²½ë˜ê²Œ ë©ë‹ˆë‹¤.
- useEffect hookë¥¼ ì´ìš©í•˜ì—¬ **inViewê°€ true** ìƒíƒœì¼ ë•Œ ë‹¤ìŒ í˜ì´ì§€ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- hasMoreë¥¼ í†µí•´ ë‹¤ìŒ ë°ì´í„°ê°€ ì—†ë‹¤ë©´ api ìš”ì²­ì„ ì¼ì–´ë‚˜ì§€ ì•Šê²Œ ì¡°ê±´ì„ ê±¸ì–´ ì£¼ì—ˆìŠµë‹ˆë‹¤.
- hasMoreëŠ” í˜„ì¬ APIì—ì„œ ë°›ì•„ì˜¨ ë°ì´í„°ì˜ lengthì™€ limtê°€ ê°™ì€ì§€ ë¹„êµí•˜ì—¬ ë‹¤ìŒ ë°ì´í„°ê°€ ìˆëŠ”ì§€ íŒë‹¨í•´ì¤ë‹ˆë‹¤.
- API ìš”ì²­ì„ ë³´ë‚¼ ë•Œ ë§ˆë‹¤ page(`res.docs[res.docs.length - 1]` : í˜„ì¬ ë°›ì•„ì˜¨ ë°ì´í„° docsì˜ ê°€ì¥ ë§ˆì§€ë§‰ docs)ê°’ì„ íŒŒì•…í•˜ì—¬ firebaseì˜ startAfter(í•´ë‹¹ docs ì´í›„ docsë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” query) queryë¥¼ ì´ìš©í•˜ì—¬ ë‹¤ìŒ í˜ì´ì§€ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.

``` javascript
// MypageMenu ì»´í¬ë„ŒíŠ¸
import React, { useEffect, useState } from "react";
import { useMovieInfo } from "../../hook/useMovieInfo";
import { useInView } from "react-intersection-observer";
import { useMediaQuery } from "react-responsive";

import {
  fetchFirstLikeList,
  fetchLikeListPage,
  removeLike,
} from "../../firebase/likeAPI";
import {
  fetchFirstReviewMovieList,
  fetchReviewMovieListPage,
} from "../../firebase/reviewAPI";

import {
  InfiniteScrollTarget,
  MoiveListWrapper,
  MovieImgWrapper,
  MovieItem,
  MovieMenuBtn,
  MovieMenuItem,
  MovieMenuNav,
  MovieMenuTitle,
  MovieMenuUl,
  MovieMenuWrapper,
  MovieTitle,
  RemoveBtn,
} from "./mypage.style";
import ProgressiveImg from "../../compoents/commons/progressiveImg/ProgressiveImg";
import Blank from "../../compoents/commons/blank/Blank";
import Loading from "../../compoents/commons/loading/Loading";
import MovieInfo from "../../compoents/commons/Modal/MovieInfo.container";
import { sweetToast } from "../../sweetAlert/sweetAlert";

export default function MypageMenu() {
  const [data, setData] = useState([]);
  const [isLoading, setIsLoading] = useState(true);
  const [isOpenMovieInfo, setIsOpenMovieInfo, seletedMovie, onClickMovieInfo] =
    useMovieInfo(false);
  const [page, setPage] = useState("");
  const [hasMore, setHasMore] = useState(false);
  const limitPage = 20;
  const [ref, inview] = useInView();
  const [menu, setMenu] = useState("like");
  // ì´ˆê¸° ë Œë”ë§ ì‹œ Blank ì»´í¬ë„ŒíŠ¸ê°€ ì ê¹ ë‚˜ì˜¤ëŠ” í˜„ìƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©
  // isLoadingìœ¼ë¡œ ì²˜ë¦¬í•˜ë ¤ í–ˆì§€ë§Œ ë¡œë”©ì‹œê°„ì´ ì§§ì„ ê²½ìš° ê¹œë¹¡ê±°ë¦¼ í˜„ìƒìœ¼ë¡œ ì¸í•´ UXì ìœ¼ë¡œ ì•ˆì¢‹ì•„ ì´ ë°©ì‹ ì‚¬ìš©
  const [notData, setNotData] = useState(true);
  const isMoblie = useMediaQuery({ query: "(max-width:486px)" });

  const fetchFirstPage = async () => {
    setNotData(true);
    // menuê°€ like ì¼ì‹œ ì¢‹ì•„ìš” ëª©ë¡ì„ ë°›ì•„ì˜´
    // likeê°€ ì•„ë‹ˆë¼ë©´ ë¦¬ë·° ëª©ë¡ì„ ë°›ì•„ì˜´
    const res =
      menu === "like"
        ? await fetchFirstLikeList(limitPage)
        : await fetchFirstReviewMovieList(limitPage);
    const data = res.docs.map((el) => el.data());
    setData((prev) => [...prev, ...data]);
    setPage(res.docs[res.docs.length - 1]);
    setHasMore(res.docs.length === limitPage);
    setIsLoading(false);
    setNotData(false);
  };

  // ë‹¤ìŒ í˜ì´ì§€ ë°ì´í„°ë¥¼ ë°›ì•„ì˜´
  const fetchAddData = async () => {
    const res =
      menu === "like"
        ? await fetchLikeListPage(page, limitPage)
        : await fetchReviewMovieListPage(page, limitPage);
    const data = res.docs.map((el) => el.data());
    setData((prev) => [...prev, ...data]);
    setPage(res.docs[res.docs.length - 1]);
    setHasMore(res.docs.length === limitPage);
  };

  // menu ìƒíƒœê°€ ë°”ë€” ë•Œ ë§ˆë‹¤ ë°ì´í„°ë¥¼ ì´ˆê¸°í™”
  useEffect(() => {
    setData([]);
    fetchFirstPage();
  }, [menu]);

 // inView ìƒíƒœê°€ ë°”ë€” ë•Œ ë§ˆë‹¤ ë‹¤ìŒ ë°ì´í„°ê°€ ì¡´ì¬í•œë‹¤ë©´ ë‹¤ìŒ ë°ì´í„°ë¥¼ ë°›ì•„ì˜´
  useEffect(() => {
    if (hasMore && inview) {
      fetchAddData();
    }
  }, [inview]);

//                                      (ìƒëµ)
//                                        .
//                                        .
//                                        .
                                    
````

- ë¬´í•œ ìŠ¤í¬ë¡¤ ì ìš© í™”ë©´

&nbsp;&nbsp; ![ë¬´í•œìŠ¤í¬ë¡¤](https://github.com/MAIN6419/MovieWorld/assets/113427991/a2b9e4c3-91e7-4e7a-8068-9895ceff6390)

<br>
 
#### (6) ê²€ìƒ‰ ë””ë°”ìš´ì‹±
- ê¸°ì¡´ ê²€ìƒ‰ì‹œ onChange ì´ë²¤íŠ¸ì—ì„œ inputì˜ ë³€í™”ê°€ ê°ì§€ë  ë•Œ ë§ˆë‹¤ APIìš”ì²­ì´ ë°œìƒí•˜ì—¬ ë¶ˆí•„ìš”í•œ API ìš”ì²­ì´ ë°œìƒí•©ë‹ˆë‹¤.
- **debunce**ì„ í†µí•´ ì„¤ì •í•œ ì‹œê°„ì´ ê²½ê³¼í•œ ì´í›„ ì´ë²¤íŠ¸ê°€ í˜¸ì¶œë˜ì§€ ì•Šì„ ë•Œ ì´ë²¤íŠ¸ë¥¼ í•œ ë²ˆë§Œ í˜¸ì¶œí•˜ê²Œ í•´ì£¼ì–´ ë¶ˆí•„ìš”í•œ API í˜¸ì¶œì„ ë§‰ì•„ì¤ë‹ˆë‹¤.
- lodash ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ debounceë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- **lodash debounce**ëŠ” ì²« ë²ˆì§¸ ì¸ìë¡œ ì‹¤í–‰í•  í•¨ìˆ˜, ë‘ ë²ˆì§¸ ì¸ìë¡œ ì‹œê°„ì„ ë°›ìŠµë‹ˆë‹¤.
- debouncing ì œëŒ€ë¡œ ì ìš©ë˜ë„ë¡ **useCallback**ë¥¼ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ê°€ ë‹¤ì‹œ ì¬ìƒì„±ë˜ëŠ” ê²ƒì„ ë§‰ì•„ í•¨ìˆ˜ê°€ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
  
``` javascript
 // ê²€ìƒ‰ ë””ë°”ìš´ì‹± ì ìš© ê²€ìƒ‰ì–´ê°€ ìˆì„ ê²½ìš° ê²€ìƒ‰ì–´ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ë¥¼ ì €ì¥
  const searchDebounce = useCallback(
    debounce(async (value) => {
      if (!value) {
      // ê²€ìƒ‰ì–´ê°€ ì—†ë‹¤ë©´ ë°ì´í„° ì´ˆê¸°í™”
        fetchFirstData();
        return;
      }
      const data = await fetchSearchMovie(value);
      setMovieData(data);
    }, 500),
    []
  );
````

- ê²€ìƒ‰ ë””ë°”ìš´ì‹± ì ìš© ì „
  
&nbsp;&nbsp; ![ê²€ìƒ‰ë””ë°”ìš´ì‹±-ì ìš©ì „](https://github.com/MAIN6419/MovieWorld/assets/113427991/ed484ef8-8d8b-4789-9918-ba40ac39c6d7)

  
- ê²€ìƒ‰ ë””ë°”ìš´ì‹± ì ìš© í›„
  
&nbsp;&nbsp; ![ê²€ìƒ‰ë””ë°”ìš´ì‹±-ì ìš©í›„](https://github.com/MAIN6419/MovieWorld/assets/113427991/efabf5cd-4499-4760-b532-af0f35fff4ed)

<br>
   
#### (7) ì´ë¯¸ì§€ ìµœì í™”
#### â‘  ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆ ìµœì†Œí™”
- í•„ìš”í•œ ì´ë¯¸ì§€ í¬ê¸° ë³´ë‹¤ ë” í° ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë¦¬ì†ŒìŠ¤ ë‚­ë¹„ê°€ ë©ë‹ˆë‹¤.
- ì´ë¯¸ì§€ ë¦¬ì†ŒìŠ¤ ë‚­ë¹„ë¥¼ ìµœì†Œí™” í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•  í¬ê¸°ì— ë§ê²Œ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ìµœì†Œí™” í•˜ì˜€ìŠµë‹ˆë‹¤.
- ì´ë¯¸ì§€ í˜•ì‹ì€ svg í˜•ì‹ì˜ ì´ë¯¸ì§€ë¥¼ ì´ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
  - svg í˜•ì‹ ì´ë¯¸ì§€ëŠ” ê°„ë‹¨í•œ ì´ë¯¸ì§€ì¸ ê²½ìš° png í˜•ì‹ë³´ë‹¤ svg ì´ë¯¸ì§€ê°€ ì‘ìœ¼ë©°, svg í˜•ì‹ì€ ë ˆí‹°ë‚˜ ë””ìŠ¤í”Œë ˆì´ì—ì„œë„ ê¹¨ì§€ëŠ” í˜„ìƒì´ ì—†ê¸° ë•Œë¬¸ì— ë ˆí‹°ë‚˜ ë””ìŠ¤í”Œë ˆì´ë¥¼ ê³ ë ¤í•  í•„ìš”ê°€ ì—†ì–´ svg í˜•ì‹ì˜ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
    
#### â‘¡ imageCompression ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ ì´ë¯¸ì§€ ì••ì¶•
- ì„œë²„ì— ì´ë¯¸ì§€ë¥¼ ì „ì†¡í•  ì‹œ í•„ìš”í•œ ì´ë¯¸ì§€ ë§Œí¼ë§Œ ìµœì†Œë¡œ ì••ì¶•í•˜ì—¬ ì´ë¯¸ì§€ ë¦¬ì†ŒìŠ¤ ë‚­ë¹„ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
- ë³„ë„ì˜ imgCompression í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
 
```javascript
import imageCompression from "browser-image-compression"

export const imgCompression = async (file) => {
  try{
    const options = {
        maxSizeMB: 10, // ì´ë¯¸ì§€ ìµœëŒ€ ìš©ëŸ‰
        maxWidthOrHeight: 256, // ì´ë¯¸ì§€ ìµœëŒ€ ë„ˆë¹„ ë° ë†’ì´
        useWebWorker: true, // webworker ì ìš© ìœ ë¬´
        // webworker : ì›¹ ì›Œì»¤ APIê°€ ë©€í‹° ìŠ¤ë ˆë”©ì„ ì§€ì›í•˜ê²Œ ë˜ì–´ ì›Œì»¤ë¥¼ ì´ìš©í•˜ë©´ ì›Œì»¤ì—ì„œ ì‘ì„±ëœ ìŠ¤í¬ë¦½íŠ¸ëŠ” 
        // ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ë¶„ê¸°ë˜ì–´ ë…ë¦½ëœ ìŠ¤ë ˆë“œë¡œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ë©”ëª¨ë¦¬ ìì›ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
    }
    // ì••ì¶•ëœ ì´ë¯¸ì§€ blob
    const compressedFileBlob = await imageCompression(file, options);
    // blob í˜•ì‹ì˜ ì´ë¯¸ì§€ë¥¼ file í˜•ì‹ìœ¼ë¡œ ë³€í™˜
    const compressedFile = new File([compressedFileBlob], file.name, { type: file.type });
    // ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ë¥¼ URL ìƒì„±
    const preview = await imageCompression.getDataUrlFromFile(file);
    // ì••ì¶•ëœ íŒŒì¼ê³¼ ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ë¥¼ ë°˜í™˜
    return {compressedFile, preview}
  } catch(error) {
    console.log(error)
  }
}
```

&nbsp;&nbsp; ![ì´ë¯¸ì§€ì••ì¶•](https://github.com/MAIN6419/MovieWorld/assets/113427991/4b31b196-8c10-4188-a5e5-46fe0d613938)

- ì´ë¯¸ì§€ ì••ì¶• ì „
  - ì´ë¯¸ì§€ í¬ê¸° : 578MB

- ì´ë¯¸ì§€ ì••ì¶• í›„
  - ì´ë¯¸ì§€ í¬ê¸° : **587MB => 72MB (515MB ì•½ 1/8 í¬ê¸° ê°ì†Œ)**
  
#### â‘¢ ì ì§„ì  ë¡œë”© ê¸°ë²• ë° lazy-loadingë¥¼ í†µí•œ ì´ë¯¸ì§€ ìµœì í™”
- **ì ì§„ì  ë¡œë”© ê¸°ë²•**ë¥¼ í†µí•´ ì´ë¯¸ì§€ê°€ ë¡œë”©ë  ë•Œ ì›ë³¸ ì´ë¯¸ì§€ ëŒ€ì‹  ì €í™”ì§ˆì˜ ì´ë¯¸ì§€ë¥¼ ë³´ì—¬ì¤Œìœ¼ë¡œì¨ UXë¥¼ í–¥ìƒ ì‹œì¼°ìŠµë‹ˆë‹¤.
- **react-intersection-observer** ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ **lazy-loading**ë¥¼ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- ì´ë¥¼ í†µí•´ ì´ë¯¸ì§€ê°€ í™”ë©´ì—ì„œ ë‚˜íƒ€ë‚  ë•Œ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë„ë¡ ì„¤ì •í•˜ì—¬ ë¡œë”©ì‹œê°„ì„ ë‹¨ì¶• ì‹œí‚¬ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì´ ë‘ ê°€ì§€ ê¸°ë²•ì„ ì´ë¯¸ì§€ì— ì ìš©í•˜ê¸° ìœ„í•´ ProgressiveImg ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê³ , ì´ë¯¸ì§€ì— ì ìš©ì‹œì¼œ ì£¼ì—ˆìŠµë‹ˆë‹¤.

- ProgressvieImg Props
  - `placeholderSrc` : ì›ë³¸ ì´ë¯¸ì§€ê°€ ë¡œë”©ë˜ê¸°ì „ ë³´ì—¬ì¤„ ì €í™”ì§ˆì˜ ì´ë¯¸ì§€ url ì…ë‹ˆë‹¤.
  - `src` : ì›ë³¸ ì´ë¯¸ì§€ì˜ url ì…ë‹ˆë‹¤.
  - `...props` : ê·¸ ì™¸ propsë¥¼ ëª¨ë‘ ë°›ì•„ì˜¤ê¸° ìœ„í•´ ì‚¬ìš© í•˜ì˜€ìŠµë‹ˆë‹¤.

``` javascript
// ProgressvieImg ì»´í¬ë„ŒíŠ¸
import React, { useEffect, useState } from "react";
import { Img } from "./progressiveImg.style";
import { useInView } from "react-intersection-observer";

export default function ProgressiveImg({
  placeholderSrc,
  src,
  styles,
  ...props
}) {
  // ì´ë¯¸ì§€ srcë¥¼ ê´€ë¦¬
  const [imgSrc, setImgSrc] = useState(placeholderSrc || src);
  // í˜„ì¬ ë¡œë”©ì´ ìƒíƒœ
  const [isLoading, setIsLoading] = useState(true);
  const { ref, inView } = useInView();
  useEffect(() => {
    // ì´ë¯¸ì§€ê°€ í™”ë©´ì—ì„œ ë³´ì´ê³ , imgSrcê°€ placholderì´ë¯¸ì§€ ì¼ë•Œ ì´ë¯¸ì§€ë¥¼ ë°›ì•„ì˜´
    if (inView && imgSrc === placeholderSrc) {
      const img = new Image();
      img.src = src;
      img.onload = () => {
        setImgSrc(src);
        setIsLazy(false);
      };
      img.onerror = () => {
        setImgSrc(
          resolveWebp(webpSupport, "/assets/webp/placeholderImg.webp", "svg")
        );
        setIsLazy(false);
      };
    }
  }, [src, inView]);

  return (
    <Img
      {...{ src: imgSrc, ...props }}
      isLazy={isLazy}
      // ë¡œë”© ìƒíƒœì¼ ë•Œ bluríš¨ê³¼ë¥¼ ì£¼ê¸°ìœ„í•´ ì‚¬ìš©
      className={isLoading ? "lading" : "loaded"}
      ref={ref}
    />
  );
}
```

#### â‘£ ìµœì‹  ì´ë¯¸ì§€ í˜•ì‹ Webp ì ìš©
- WebP ì´ë¯¸ì§€ëŠ” JPEGë‚˜ PNGì— ë¹„í•´ ì••ì¶•ë¥ ì´ ë†’ê³ , ë” ì‘ì€ íŒŒì¼ í¬ê¸°ë¥¼ ê°€ì§€ë©°, ë†’ì€ í’ˆì§ˆì„ ì œê³µí•˜ëŠ” ì´ë¯¸ì§€ í˜•ì‹ì…ë‹ˆë‹¤.
- Webp ì´ë¯¸ì§€ í˜•ì‹ì€ êµ¬ ë¸Œë¼ìš°ì €ëŠ” ì§€ì›í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì ì§„ì  í–¥ìƒ ê¸°ë²•ì„ ì´ìš©í•˜ì—¬ ë‹¤ë¥´ê²Œ ì²˜ë¦¬í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤.
- Webp ì´ë¯¸ì§€ê°€ ì§€ì›ì´ ëœë‹¤ë©´ body íƒœê·¸ì— webpë¼ëŠ” classNameë¥¼ ì¶”ê°€í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.
- body classNameë¥¼ í†µí•´ ì´ë¯¸ì§€ í˜•ì‹ì´ ë‹¤ë¥´ê²Œ ì ìš©ë˜ë„ë¡ ì²˜ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.
- êµ¬ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ê¸°ì¡´ì— ì €ì¥ëœ svg í˜•ì‹ì´ ì ìš©ë˜ë„ë¡ ì²˜ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.
- Webpê°€ ì§€ì›ë˜ëŠ” ë¸Œë¼ìš°ì €ì—ì„œë„ˆ Webp ì´ë¯¸ì§€ê°€ ì ìš©ë˜ë„ë¡ ì²˜ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.
- detectWebpSupport, resolveWebp í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì´ë¥¼ ì ìš©ì‹œì¼œ ì£¼ì—ˆìŠµë‹ˆë‹¤.
 
- detectWebpSupport
  - webpdataì— 1x1 í”½ì…€ í¬ê¸°ì˜ WebP í˜•ì‹ì˜ ì´ë¯¸ì§€ ë°ì´í„°ë¥¼ base64ë¡œ ì¸ì½”ë”©í•œ ë¬¸ìì—´ì„ í• ë‹¹í•©ë‹ˆë‹¤.
  - ì´ë¯¸ì§€ ë¡œë”©ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ê±°ë‚˜ ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë•Œ callback í•¨ìˆ˜ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.
  - image.srcì— webpdataë¥¼ í• ë‹¹í•˜ì—¬, ìƒì„±í•œ ë¹ˆ ì´ë¯¸ì§€ ê°ì²´ê°€ í•´ë‹¹ WebP ì´ë¯¸ì§€ë¥¼ ë¡œë”©í•˜ë„ë¡ í•©ë‹ˆë‹¤.
  - callback í•¨ìˆ˜ì—ì„œëŠ” event.typeì´ "load"ì¸ ê²½ìš°ì™€ ì´ë¯¸ì§€ì˜ ë„ˆë¹„(image.width)ê°€ 1 í”½ì…€ì¸ ê²½ìš°ë¥¼ ê²€ì‚¬í•˜ì—¬ ë¸Œë¼ìš°ì €ê°€ WebP ì´ë¯¸ì§€ë¥¼ ì§€ì›í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ íŒë³„í•©ë‹ˆë‹¤.
  - ë¸Œë¼ìš°ì €ê°€ WebP ì´ë¯¸ì§€ë¥¼ ì§€ì›í•˜ëŠ” ê²½ìš° document.body ìš”ì†Œì˜ í´ë˜ìŠ¤ ë¦¬ìŠ¤íŠ¸ì— "webp"ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
 
- resolveWebp
   - ì¸ì ê°’ webpSupported: webpì§€ì› ìœ ë¬´, img : Webp ì´ë¯¸ì§€ ê²½ë¡œ, fallbackExt : Webp ì´ë¯¸ì§€ í˜•ì‹ ëŒ€ì‹  ì‚¬ìš©í•  ì´ë¯¸ì§€ í˜•ì‹
   - extì— ì´ë¯¸ì§€ í˜•ì‹ì„ ì €ì¥í•©ë‹ˆë‹¤.
   - webpSupportedê°€ falseì¸ ê²½ìš°, extì´ webpì¸ ê²½ìš°ì— webpì´ë¯¸ì§€ ê²½ë¡œ ëŒ€ì‹  webp ëŒ€ì‹  ì‚¬ìš©í•  ì´ë¯¸ì§€ í˜•ì‹ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
   - replace ë©”ì„œë“œë¥¼ ì´ìš©í•´ì„œ /webp ì œê±° í›„, .webpë¥¼ ëŒ€ì²´í•  ì´ë¯¸ì§€ í˜•ì‹ìœ¼ë¡œ êµì²´í•©ë‹ˆë‹¤.
   - í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš© ì¤‘ì¸ ì´ë¯¸ì§€ ê²½ë¡œ : img/assets/webp/webpImg.webp => img/assets/svgImg.svg

```javascript
export function detectWebpSupport() {
  const image = new Image();
  // 1px x 1px WebP ì´ë¯¸ì§€
  const webpdata = "data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=";
  const callback = (event) => {
    // event.typeì´ "load"ì¸ ê²½ìš°ì™€ ì´ë¯¸ì§€ì˜ ë„ˆë¹„(image.width)ê°€ 1 í”½ì…€ì¸ ê²½ìš°ë¥¼ ê²€ì‚¬í•˜ì—¬ ë¸Œë¼ìš°ì €ê°€ WebP ì´ë¯¸ì§€ë¥¼ ì§€ì›í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ íŒë³„
    const result = event?.type === "load" && image.width === 1;
    if (result) {
      document.body.classList.add("webp");
    }
    else {
      document.body.classList.remove("webp");
    }
  };
  image.onerror = callback;
  image.onload = callback;
  image.src = webpdata;
}
// webpSupported: webp ì§€ì› ìœ ë¬´, img: webp ì´ë¯¸ì§€ ê²½ë¡œ, fallbackExt: webp ì´ë¯¸ì§€ ëŒ€ì²´ ì´ë¯¸ì§€ í˜•ì‹
export const resolveWebp = (webpSupported, img, fallbackExt) => {
  // ì´ë¯¸ì§€ í¬ë§·
  const ext = img.split(".").pop();
  // webpSupported false, extê°€ webpì¸ ê²½ìš°
  if (!webpSupported && ext === "webp") {
    return img.replace("/webp", "").replace(".webp", `.${fallbackExt}`);
  }
  return img;
};
```

- ì´ë¯¸ì§€ ìµœì í™” ì „ 
  - ì´ë¯¸ì§€ ë¦¬ì†ŒìŠ¤ : ì•½ 68MB
  - ë¡œë”© ì†ë„ : 5.8ì´ˆ

 &nbsp;&nbsp; ![ì´ë¯¸ì§€ìµœì í™”ì „](https://github.com/MAIN6419/MovieWorld/assets/113427991/6633b215-0ac1-4990-b5f9-dc41a084c071)

- ì´ë¯¸ì§€ ìµœì í™” í›„
  - ì´ë¯¸ì§€ ë¦¬ì†ŒìŠ¤ : **67MB => 8.9MB (58MB ë‹¨ì¶•)**
  - ë¡œë”© ì†ë„ : **5.8ì´ˆ => 3.5ì´ˆ (2.3ì´ˆ ë‹¨ì¶•)**

 &nbsp;&nbsp; ![ì´ë¯¸ì§€ìµœì í™”í›„](https://github.com/MAIN6419/MovieWorld/assets/113427991/996929d3-4ec2-4e5f-8606-a6a83b3f8bef)
 
#### (8) ì›¹ ì ‘ê·¼ì„± í‚¤ë³´ë“œ í¬ì»¤ì‹± ìµœì í™” 
- ëª¨ë‹¬ ì°½ì—ì„œ í‚¤ë³´ë“œ í¬ì»¤ì‹± ìµœì í™”í•˜ê¸° ìœ„í•´ optKeyboardFocus í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ì˜€ìŠµë‹ˆë‹¤.
  - ëª¨ë‹¬ì°½ì—ì„œ í¬ì»¤ì‹±ì´ ë²—ì–´ë‚˜ì§€ ì•Šë„ë¡ ì„¤ì •í•´ì£¼ì—ˆìŠµë‹ˆë‹¤. 
  - shift + tab í‚¤ë¥¼ ëˆŒë €ì„ ê²½ìš°(ì´ì „ ìš”ì†Œ) í¬ì»¤ì‹±ì„ ë°›ì„ ìš”ì†Œë¡œ ì¸ìë¡œ ë°›ì€ previousTarget ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.
  - tab í‚¤ë¥¼ ëˆŒë €ì„ ê²½ìš° í¬ì»¤ì‹±ì„ ë°›ì„ ìš”ì†Œë¡œ ì¸ìë¡œ ë°›ì€ nextTargetìœ¼ë¡œ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤,
  - nextTargetì´ í•„ìš”ì—†ëŠ” ê²½ìš°ì—ëŠ” previousTargetë§Œ ì ìš©ë˜ë„ë¡ else ifë¬¸ nextTarget && ì¡°ê±´ì„ ì¶”ê°€í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.
  - previousTargetì€ í•„ìš”ì—†ëŠ” ê²½ìš°ê°€ ì—†ê¸° ë•Œë¬¸ì— ìƒëµë˜ëŠ” ê²½ìš°ë¥¼ ê³ ë ¤í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
    - nextTargetë§Œ ìˆëŠ” ê²½ìš°ì—ë„ previousTargetì´ í•„ìš” => e.preventDefault() ì²˜ë¦¬ë¡œ ì´ì „ ìš”ì†Œ í¬ì»¤ì‹±(shift+tab)ì´ ì‘ë™í•˜ì§€ ì•Šê³  nextTarget.focus() ì‘ë™ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
    - ì´ì „ ìš”ì†Œ, ë‹¤ìŒ ìš”ì†Œ í¬ì»¤ìŠ¤ ì´ë™ì‹œ tabí‚¤ê°€ ê°™ì´ ì“°ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
    - shift+tabí‚¤ë¥¼ ëˆ„ë¥´ëŠ” ê²½ìš°ë„ ë³„ë„ì˜ ì¡°ê±´ ì²˜ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.
- esc í‚¤ë¥¼ ëˆ„ë¥¼ ê²½ìš° ëª¨ë‹¬ì°½ì´ ë‹«íˆë„ë¡ ì²˜ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.
- ë˜í•œ selector ë©”ë‰´ê°€ í™œì„±í™” ë˜ë©´ í¬ì»¤ì‹±ì´ ë²—ì–´ë‚˜ì§€ ì•Šë„ë¡ ì²˜ë¦¬í•˜ì˜€ìœ¼ë©°, escí‚¤ë¥¼ ëˆ„ë¥´ë©´ ë‹«íˆë„ë¡ ì²˜ë¦¬ í•˜ì˜€ìŠµë‹ˆë‹¤.
 
``` javascript
// optKeyboardFocus í•¨ìˆ˜
// í‚¤ë³´ë“œ í¬ì»¤ìŠ¤ ì›¹ ì ‘ê·¼ì„± ìµœì í™” í•¨ìˆ˜
// ì²« ë²ˆì§¸ ì¸ìë¡œëŠ” ì´ë²¤íŠ¸
// ë‘ ë²ˆì§¸ ì¸ìë¡œ ë‹¤ìŒ focusë  ëŒ€ìƒ, ì„¸ ë²ˆì§¸ ì¸ìë¡œ ì´ì „ focusë  ëŒ€ìƒ
export const optKeyboardFocus = (e, previousTarget, nextTarget = null) => {
  if (e.shiftKey && e.keyCode === 9) {
    e.preventDefault();
    previousTarget.focus();
  } else if (nextTarget && e.keyCode === 9) {
    e.preventDefault();
    nextTarget.focus();
  }
};
```

- í‚¤ë³´ë“œ í¬ì»¤ì‹± ìµœì í™” ì²˜ë¦¬ ì „
  - í‚¤ë³´ë“œ í¬ì»¤ì‹±ì´ ëª¨ë‹¬ ì°½ ë°–ìœ¼ë¡œ ë²—ì–´ë‚˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    
 &nbsp;&nbsp; ![í‚¤ë³´ë“œìµœì í™”ì „](https://github.com/MAIN6419/MovieWorld/assets/113427991/d10ba7fe-5c7c-45af-bdb7-d04a79a84e6d)

- í‚¤ë³´ë“œ í¬ì»¤ì‹± ìµœì í™” ì²˜ë¦¬ í›„
  - í‚¤ë³´ë“œ í¬ì»¤ì‹±ì´ ëª¨ë‹¬ ì°½ ë°–ìœ¼ë¡œ ë²—ì–´ë‚˜ì§€ ì•ŠëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - escí‚¤ë¥¼ ëˆŒëŸ¬ ëª¨ë‹¬ ì°½ì´ ë‹«íˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    
 &nbsp;&nbsp; ![í‚¤ë³´ë“œìµœì í™”í›„](https://github.com/MAIN6419/MovieWorld/assets/113427991/0f1718b7-9ed4-4a15-9a55-f364b57dc68e)
 
#### (9) sweetAlert2
- alertì°½ê³¼ confirmì°½ì„ ì»¤ìŠ¤í…€ í•˜ê¸°ìœ„í•´ **sweetAlert2** ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
- <a href="https://sweetalert2.github.io/">https://sweetalert2.github.io/</a> ì‚¬ì´íŠ¸ì˜ docsë¥¼ ì°¸ê³ í•˜ì—¬ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- ì›í•˜ëŠ” ë””ìì¸ ì‚¬ìš©ê³¼ ì¤‘ë³µëœ ì½”ë“œ ì‚¬ìš©ì„ ì¤„ì´ê¸° ìœ„í•´ ë³„ë„ì˜ íŒŒì¼ì— **sweetToast, sweetConfirm** í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
- sweetToast
  - alertì°½ ëŒ€ì‹  í™œìš©í•˜ê¸° ìœ„í•´ ì¶”ê°€í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.
  - ì¸ì ê°’ì€ title(alert ì°½ì— ë‚˜íƒ€ë‚˜ëŠ” ë‚´ìš©), icon(alertì°½ì— ë‚˜íƒ€ë‚˜ëŠ” ì•„ì´ì½˜), timer(alertì°½ì´ ì‚¬ë¼ì§€ëŠ” ì‹œê°„)ë¥¼ ë°›ìŠµë‹ˆë‹¤.
  - Swal.fireë¥¼ ì´ìš©í•˜ì—¬ sweetAlert2 ì°½ì„ ì‚¬ìš©í•˜ë©°, ì†ì„±ìœ¼ë¡œ toast: ture(toastì°½ ì‚¬ìš© ìœ ë¬´), title(toastì°½ì— ë“¤ì–´ê°ˆ ë‚´ìš©), postiton(ë°°ì¹˜í•  ìœ„ì¹˜), showConfirmButton(í™•ì¸ë²„íŠ¼ ìœ ë¬´), icon(ì•„ì´ì½˜ ì„¤ì •), timer(ì°½ì´ ì‚¬ë¼ì§€ëŠ” ì‹œê°„ ì„¤ì •)ë¥¼ ë„£ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤.
- sweetConfirm 
  - ì¸ì ê°’ì€ title(confirmì°½ ë‚´ìš©), confirmButtonText(confirmì°½ í™•ì¸ ë²„íŠ¼ ë‚´ìš©), cancelButtonText(confirmì°½ ì·¨ì†Œ ë²„íŠ¼ ë‚´ìš©)ë¥¼ ë°›ìŠµë‹ˆë‹¤. 
  - Swal.fireë¥¼ ì´ìš©í•˜ì—¬ sweetAlert2 ì°½ì„ ì‚¬ìš©í•˜ë©°, ì†ì„±ìœ¼ë¡œ title(confirmì°½ ë‚´ìš©), showCancelButtonText(ì·¨ì†Œë²„íŠ¼í™œì„±í™” ìœ ë¬´), focusConfirm(confirmì°½ í¬ì»¤ì‹± ìœ ë¬´), confirmButtonText(confirmì°½ í™•ì¸ ë²„íŠ¼ ë‚´ìš©), cancelButtonText(confirmì°½ ì·¨ì†Œ ë²„íŠ¼ ë‚´ìš©), showCloseButton(ë‹«ê¸° ë²„íŠ¼ í™œì„±í™” ìœ ë¬´)ë¥¼ ë„£ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤.

``` javascript
import Swal from "sweetalert2";
import "./sweetAlert.css";
import 'sweetalert2/dist/sweetalert2.min.css';
export const sweetToast = (title, icon = null, timer = 2000) => {
  return Swal.fire({
    toast: true,
    title,
    position: "top",
    showConfirmButton: false,
    icon,
    timer
  });
};

export const sweetConfirm = (
  title,
  confirmButtonText,
  cancelButtonText,
  cb
) => {
  return Swal.fire({
    title,
    showCancelButton: true,
    focusConfirm: true,
    confirmButtonText,
    cancelButtonText,
    showCloseButton: false,
  }).then(({ isConfirmed }) => {
    if (isConfirmed) {
      cb();
    }
  });
};
```
- sweetAlert2 ì ìš© í™”ë©´

&nbsp;&nbsp; ![sweetAlert2ì ìš©](https://github.com/MAIN6419/MovieWorld/assets/113427991/23d0631b-e769-4176-84fc-af92334df97f)








